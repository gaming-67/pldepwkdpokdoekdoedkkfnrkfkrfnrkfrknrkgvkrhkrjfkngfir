<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Stick Figure Game</title>
<style>
  body {
    margin: 0;
    overflow: hidden;
    background: #222;
  }

  canvas {
    display: block;
    background: #333;
  }
</style>
</head>
<body>
<canvas id="gameCanvas"></canvas>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

// Player properties
const player = {
    x: 100,
    y: canvas.height - 150,
    width: 20,
    height: 50,
    color: 'white',
    velocityY: 0,
    speed: 5,
    jumping: false
};

// Gravity
const gravity = 0.7;

// Keys
const keys = {};

// Platforms
const platforms = [
    {x:0, y: canvas.height - 100, width: canvas.width, height: 20},
    {x:400, y: canvas.height - 200, width: 200, height: 20},
    {x:700, y: canvas.height - 300, width: 200, height: 20}
];

// Event listeners
document.addEventListener('keydown', (e) => keys[e.code] = true);
document.addEventListener('keyup', (e) => keys[e.code] = false);

function update() {
    // Move left/right
    if (keys['ArrowLeft']) player.x -= player.speed;
    if (keys['ArrowRight']) player.x += player.speed;

    // Jump
    if (keys['ArrowUp'] && !player.jumping) {
        player.velocityY = -15;
        player.jumping = true;
    }

    // Apply gravity
    player.velocityY += gravity;
    player.y += player.velocityY;

    // Collision with platforms
    platforms.forEach(platform => {
        if (player.x < platform.x + platform.width &&
            player.x + player.width > platform.x &&
            player.y < platform.y + platform.height &&
            player.y + player.height > platform.y) {
                player.y = platform.y - player.height;
                player.velocityY = 0;
                player.jumping = false;
        }
    });

    // Boundaries
    if(player.y + player.height > canvas.height) {
        player.y = canvas.height - player.height;
        player.velocityY = 0;
        player.jumping = false;
    }

    draw();
    requestAnimationFrame(update);
}

function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Draw player as stick figure
    ctx.strokeStyle = player.color;
    ctx.lineWidth = 2;

    // Head
    ctx.beginPath();
    ctx.arc(player.x + player.width/2, player.y + 10, 10, 0, Math.PI * 2);
    ctx.stroke();

    // Body
    ctx.beginPath();
    ctx.moveTo(player.x + player.width/2, player.y + 20);
    ctx.lineTo(player.x + player.width/2, player.y + 40);
    ctx.stroke();

    // Arms
    ctx.beginPath();
    ctx.moveTo(player.x + player.width/2 - 10, player.y + 25);
    ctx.lineTo(player.x + player.width/2 + 10, player.y + 25);
    ctx.stroke();

    // Legs
    ctx.beginPath();
    ctx.moveTo(player.x + player.width/2, player.y + 40);
    ctx.lineTo(player.x + player.width/2 - 10, player.y + 50);
    ctx.moveTo(player.x + player.width/2, player.y + 40);
    ctx.lineTo(player.x + player.width/2 + 10, player.y + 50);
    ctx.stroke();

    // Draw platforms
    ctx.fillStyle = 'green';
    platforms.forEach(p => ctx.fillRect(p.x, p.y, p.width, p.height));
}

// Start the game
update();
</script>
</body>
</html>
